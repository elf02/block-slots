(()=>{"use strict";const e=window.wp.blocks,o=window.wp.i18n,t=window.wp.blockEditor,l=window.wp.components,s=window.wp.data,r=window.ReactJSXRuntime,c=window.wp.hooks;(0,e.registerBlockVariation)("core/query",{name:"elf02/block-slots-query-loop",title:(0,o.__)("Block-Slots Query Loop","elf02-block-slots"),attributes:{namespace:"elf02/block-slots-query-loop",className:"block-slot",align:"full",query:{postType:"block_slot",include:[0],perPage:1,pages:0,offset:0,order:"desc",orderBy:"date",author:"",search:"",exclude:[],sticky:"",inherit:!1,parents:[]}},allowedControls:[],innerBlocks:[["core/post-template",{},[["core/post-content",{},[]]]]],isActive:["namespace"]}),(0,c.addFilter)("editor.BlockEdit","elf02/block-slots-query-loop-edit",(e=>c=>{const{attributes:n,setAttributes:i}=c;if("elf02/block-slots-query-loop"===c.attributes?.namespace){const{query:a}=n,p=(0,s.useSelect)((e=>e("core").getEntityRecords("postType","block_slot",{per_page:-1,status:"publish"})));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.InspectorControls,{children:(0,r.jsx)(l.PanelBody,{title:(0,o.__)("Block Slot","elf02-block-slots"),children:(0,r.jsx)(l.SelectControl,{value:a?.include[0]||0,options:p?[{label:(0,o.__)("Select...","elf02-block-slots"),value:0},...p.map((({id:e,title:{rendered:o}})=>({label:o,value:e})))]:[],onChange:e=>{i({query:{...a,include:[parseInt(e)]}})}})})}),(0,r.jsx)(e,{...c})]})}return(0,r.jsx)(e,{...c})}))})();